<app-block>
  <div class="buttons">
    <button>Active</button>
    <button>Archived</button>
    <button class="button__create" routerLink="/projects/create_pro">Create</button>
  </div>
  <app-container>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search for a project">
    </mat-form-field>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="color">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <div class="circle circle__main" [ngStyle]="{ 'background': element.color}"></div>
        </td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element" routerLink="/projects/{{element.name}}"> {{element.name}} </td>
      </ng-container>
      <ng-container matColumnDef="team">
        <th mat-header-cell *matHeaderCellDef> Team </th>
        <td mat-cell *matCellDef="let element" >
          <div class="inline">
            <div *ngFor="let item of element.team" >
              <div (click)="changeCondition(item)" class="circle circle_employees" [ngStyle]="{'background': item.photo}"></div>
              <ng-template [ngIf]="item.condition">
                <div class="information_about_employee">
                  <p>{{item.name}}</p>
                  <p>Workload on project: {{item.workload}}</p>
                  <a (click)="delete(item)">Remove from project</a>
                </div>
              </ng-template>
            </div>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef> Start Date </th>
        <td mat-cell *matCellDef="let element" > {{element.startDate}} </td>
      </ng-container>
      <ng-container matColumnDef="progress">
        <th mat-header-cell *matHeaderCellDef> Progress </th>
        <td mat-cell *matCellDef="let element">
          <app-progress-bar
            [color] = 'element.color'
            [totalState] = 'totalState'>
          </app-progress-bar>
        </td>
      </ng-container>
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> End date </th>
        <td mat-cell *matCellDef="let element" >{{element.endDate}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
    </table>
  </app-container>
</app-block>




