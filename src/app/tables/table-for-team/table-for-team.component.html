<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

  <!-- Employee Column -->
  <ng-container matColumnDef="name">
    <td mat-cell *matCellDef="let element">
      <select [(ngModel)]="element.name">
        <option [value]="user" *ngFor="let user of users">{{user}}</option>
      </select>
    </td>
    <td mat-footer-cell *matFooterCellDef>
      <select name="" class="table__select" [(ngModel)]='option1' (ngModelChange)='customFunction()'>
        <option [value]="'chooseName'" [selected] = "selected">Choose employee</option>
        <option [value]="user" *ngFor='let user of users; let i = index'>{{user}}</option>
      </select></td>
  </ng-container>

  <ng-container matColumnDef="roles">
    <td mat-cell *matCellDef="let element">
      <select [(ngModel)]="element.role">
        <option [value]="role" *ngFor="let role of roles">{{role}}</option>
      </select>
    </td>
    <td mat-footer-cell *matFooterCellDef>
      <select name="" class="table__select" [(ngModel)]='option2' (ngModelChange)='customFunction()'>
        <option [value]="'chooseRole'" [selected] = "selected">Choose role</option>
        <option [value]="role" *ngFor='let role of roles; let i = index'>{{role}}</option>
      </select></td>
  </ng-container>

  <!-- Time Column -->
  <ng-container matColumnDef="time">
    <td mat-cell *matCellDef="let element">
      <input type="number" [(ngModel)]="element.workload" [readonly]="!editTable" (change)="changeTotal($event.target,0)">
    </td>
    <td mat-footer-cell *matFooterCellDef>
      <input type="number" placeholder="0">
    </td>
  </ng-container>

  <!-- h/week Column -->
  <ng-container matColumnDef="hours">
    <td mat-cell *matCellDef="let element">h/week</td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- X Column -->
  <ng-container matColumnDef="delete">
    <td mat-cell *matCellDef="let element">
      <i class="material-icons" (click)='delete(element)'>clear</i>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <!-- Total column -->
  <ng-container matColumnDef="total">
    <td mat-footer-cell *matFooterCellDef colspan="2">Total expected time:</td>
  </ng-container>

  <!-- Total number column -->
  <ng-container matColumnDef="number">
    <td mat-footer-cell *matFooterCellDef>{{getTotal()}}</td>
  </ng-container>

  <ng-container matColumnDef="hours_week">
    <td mat-footer-cell *matFooterCellDef>h/week</td>
  </ng-container>

  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
  <tr mat-footer-row *matFooterRowDef="['total', 'number', 'hours_week']"></tr>
</table>
